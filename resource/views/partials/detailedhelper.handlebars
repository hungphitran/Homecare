<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Homecare
    </title>
    {{!-- font --}}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Clicker+Script&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- link css -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- script -->
    <script src="/js/scripts.js"></script>
    <link rel="shortcut icon" href="/icon/logo-removeBg.png" type="image/x-icon">
    <script src="https://kit.fontawesome.com/01acedffd5.js" crossorigin="anonymous"></script>
</head>

<body>
    {{!-- Main container start --}}
    <div class="main-container" style="padding-top:70px;padding-bottom:1000px">
        {{!-- aside start --}}
        <div class="aside">
            <div class="aside__logo">
                <a href="/">
                    <div class="logo">
                        <img src="/icon/logo-removeBg.png" alt="grocerymart" class="logo__img-helper logo __img-header">
                    </div>
                </a>
            </div>
            <div class="aside__nav-toggle">
                <span></span>
            </div>
            <ul class="aside__nav">
              
                <li class="aside__item">
                    <a href="#service-detail" class="aside__nav-active">
                        <i class="fa fa-user"></i>Thông tin
                    </a>
                </li>
    
                <li class="aside__item">
                    <a href="/account/register">
                        <i class="fa-sharp fa-solid fa-user-plus"></i>Thoát
                    </a>
                </li>
            </ul>
        </div>
  
        <div class="main-content">
           
            <section class="about-detail section" id="service-detail">
                <div class="home__container-2">
                    <div class="home__row-2">
                        <div class="section-title padd-15">
                            <h2>Thông tin chi tiết</h2>
    
                        </div>
                    </div>
                    <div class="home__row-2">
                        <div class="about-detail__content padd-15">
                            <div class="about-detail__text">
                                <h3>Tôi tên là {{helper.fullName}} và <span>
                                        người giúp việc
                                    </span>
                                </h3>
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum repudiandae doloremque
                                    ullam voluptate, omnis harum ratione ea incidunt magni placeat in! Eius nam illum
                                    molestiae voluptates cum magnam laboriosam corporis?</p>
    
                            </div>
                        </div>
                    </div>
                    <div class="home__row-2">
                        <div class="about-detail__personal-infor padd-15">
                            <div class="home__row-2 extra-flex-direction">
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Quận: <span>
                                            {{#each helper.workingArea.districts}}
                                            {{this}}
                                            {{/each}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Tuổi: <span>22</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Ngày sinh nhật: <span>{{#formatDate}}  {{helper.birthDate}} {{/formatDate}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Giới tính:<span>{{helper.gender}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Số điện thoại:<span>{{helper.phone}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Quê quán:<span>{{helper.birthPlace}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Tỉnh:<span>{{helper.workingArea.province}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Địa chỉ:<span>{{helper.address}}</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Chiều cao:<span>{{helper.height}} cm</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Chiều cao:<span>{{helper.weight}} kg</span></p>
                                </div>
                                <div class="about-detail__infor-item padd-15" style="padding-bottom:20px">
                                    <p>Năm kim nghiệm:<span>{{helper.yearOfExperience}} năm</span></p>
                                </div>
                            </div>
 <!--                           <div class="home__row-2">
                                <div class="button padd-15">
                                    <a href="#hire-helper" class="home-btn book-helper" data-section-index="1">Thuê người này</a>
                                </div>
                            </div>
                            -->
                        </div>
                        <div class="about-detail__skills padd-15">
    
                        </div>
                    </div>
                   
                    <div class="home_row-2">
                        <div class="about-detail__tab-ui">

                    <div class="helper-details__tabs padd-15">
                        <div class="tabs-container">
                            <div class="tabs-header">
                                <div class="tab-item active" data-tab="reviews">
                                    <i class="fas fa-star tab-icon"></i>
                                    <span>Đánh giá chung</span>
                                </div>
                                <div class="tab-item" data-tab="experience">
                                    <i class="fas fa-briefcase tab-icon"></i>
                                    <span>Mô tả kinh nghiệm</span>
                                </div>
                                <div class="tab-item" data-tab="details">
                                    <i class="fas fa-info-circle tab-icon"></i>
                                    <span>Thông tin chi tiết</span>
                                </div>
                                <div class="tab-item" data-tab="certificate">
                                    <i class="fas fa-file-medical tab-icon"></i>
                                    <span>Giấy khám sức khỏe</span>
                                </div>
                                <div class="indicator"></div>
                            </div>
                    
                            <!-- Tab content -->
                            <div class="tabs-content">
                                <div class="tab-pane active" id="reviews">
                                    <h2 class="tab-title">Đánh giá từ khách hàng</h2>
                    
                                    {{#if requestDetails.length}}
                                    <div class="reviews-container">
                                        {{#each requestDetails as |req|}}
                                        <div class="review-card">
                                            <div class="review-header">
                                                <div class="review-date">
                                                    <i class="far fa-calendar-alt"></i>
                                                    <span>{{#formatDate}} {{req.workingDate}}{{/formatDate}}</span>
                                                </div>
                                                <div class="review-rating">
                                                    {{#if req.comment.rating}}
                                                    <div class="stars-container">
                                                        {{#times req.comment.rating}}
                                                        <i class="fas fa-star"></i>
                                                        {{/times}}
                                                        {{#times (subtract 5 req.comment.rating)}}
                                                        <i class="far fa-star"></i>
                                                        {{/times}}
                                                    </div>
                                                    {{else}}
                                                    <div class="stars-container">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    {{/if}}
                                                </div>
                                            </div>
                                            <div class="review-content">
                                                <p>{{req.comment.review}}</p>
                                            </div>
                                            <div class="review-service">
                                                <span class="service-badge">{{req.service}}</span>
                                            </div>
                                        </div>
                                        {{/each}}
                                    </div>
                                    {{else}}
                                    <div class="no-reviews">
                                        <i class="far fa-comment-dots"></i>
                                        <p>Chưa có đánh giá nào</p>
                                    </div>
                                    {{/if}}
                                </div>
                    
                                <div class="tab-pane" id="experience">
                                    <h2 class="tab-title">Kinh nghiệm làm việc</h2>
                    
                                    <div class="experience-section">
                                        <div class="experience-area">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-map-marker-alt"></i>
                                                Khu vực làm việc
                                            </h3>
                                            <div class="districts-grid">
                                                {{#each helper.workingArea.districts}}
                                                <div class="district-card">
                                                    <i class="fas fa-map-pin"></i>
                                                    <span>{{this}}</span>
                                                </div>
                                                {{/each}}
                                            </div>
                                        </div>
                    
                                        <div class="experience-services">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-tools"></i>
                                                Dịch vụ cung cấp
                                            </h3>
                                            <div class="services-grid">
                                                {{#each helper.jobs}}
                                                <div class="service-card">
                                                    <i class="fas fa-check-circle"></i>
                                                    <span>{{this}}</span>
                                                </div>
                                                {{/each}}
                                            </div>
                                        </div>
                    
                                        <div class="experience-years">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-history"></i>
                                                Kinh nghiệm
                                            </h3>
                                            <div class="year-badge">
                                                <span>{{helper.yearOfExperience}}</span>
                                                <p>Năm kinh nghiệm</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                    
                                <div class="tab-pane" id="details">
                                    <h2 class="tab-title">Thông tin chi tiết</h2>
                    
                                    <div class="details-container">
                                        <div class="details-education">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-graduation-cap"></i>
                                                Trình độ học vấn
                                            </h3>
                                            <div class="education-level">
                                                <p>{{helper.educationLevel}}</p>
                                            </div>
                                        </div>
                    
                                        <div class="details-skills">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-medal"></i>
                                                Kỹ năng
                                            </h3>
                                            <div class="skills-grid">
                                                {{#each helper.skills}}
                                                <div class="skill-item">
                                                    <div class="skill-name">{{@key}}</div>
                                                    <div class="skill-bar">
                                                        <div class="skill-progress" style="width:{{this}}%"></div>
                                                    </div>
                                                </div>
                                                {{else}}
                                                <p class="no-data">Chưa cập nhật kỹ năng</p>
                                                {{/each}}
                                            </div>
                                        </div>
                    
                                        <div class="details-languages">
                                            <h3 class="section-subtitle">
                                                <i class="fas fa-language"></i>
                                                Ngôn ngữ
                                            </h3>
                                            <div class="languages-list">
                                                <div class="language-item">
                                                    <span>Tiếng Việt</span>
                                                    <div class="language-level">Bản địa</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                    
                                <div class="tab-pane" id="certificate">
                                    <h2 class="tab-title">Giấy khám sức khỏe</h2>
                    
                                    <div class="certificate-container">
                                        {{#if helper.healthCertificates.length}}
                                        <div class="certificate-gallery">
                                            {{#each helper.healthCertificates}}
                                            <div class="certificate-item">
                                                <img src="{{this}}" alt="Giấy khám sức khỏe" class="certificate-img">
                                                <div class="certificate-overlay">
                                                    <a href="{{this}}" target="_blank" class="view-full">
                                                        <i class="fas fa-search-plus"></i>
                                                        Xem đầy đủ
                                                    </a>
                                                </div>
                                            </div>
                                            {{/each}}
                                        </div>
                                        {{else}}
                                        <div class="no-certificates">
                                            <i class="fas fa-file-excel"></i>
                                            <p>Chưa có giấy khám sức khỏe</p>
                                        </div>
                                        {{/if}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        </div>
                    </div>
                </div>
            </section>
           
        </div>
      
    </div>
    {{!-- main contain end --}}
    
    <script src="/js/app.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
                const tabs = document.querySelectorAll('.tab-item');
                const tabPanes = document.querySelectorAll('.tab-pane');
                const indicator = document.querySelector('.indicator');

                function setIndicatorPosition(activeTab) {
                    indicator.style.width = `${activeTab.offsetWidth}px`;
                    indicator.style.left = `${activeTab.offsetLeft}px`;
                }

                // Set initial indicator position
                if (tabs.length > 0) {
                    const activeTab = document.querySelector('.tab-item.active');
                    setIndicatorPosition(activeTab);
                }

                tabs.forEach(tab => {
                    tab.addEventListener('click', function () {
                        // Remove active class from all tabs and panes
                        tabs.forEach(tab => tab.classList.remove('active'));
                        tabPanes.forEach(pane => pane.classList.remove('active'));

                        // Add active class to the clicked tab
                        this.classList.add('active');

                        // Show corresponding tab pane
                        const tabId = this.getAttribute('data-tab');
                        document.getElementById(tabId).classList.add('active');

                        // Update indicator position
                        setIndicatorPosition(this);
                    });
                });

                // Helper function to make certificate images viewable in a lightbox
                const certificateImages = document.querySelectorAll('.certificate-img');
                certificateImages.forEach(img => {
                    img.addEventListener('click', function (e) {
                        e.preventDefault();
                        const parentLink = this.closest('.certificate-item').querySelector('.view-full');
                        if (parentLink) {
                            const imageUrl = parentLink.getAttribute('href');
                            openLightbox(imageUrl);
                        }
                    });
                });

                function openLightbox(imageUrl) {
                    const lightbox = document.createElement('div');
                    lightbox.classList.add('lightbox');
                    lightbox.innerHTML = `
      <div class="lightbox-content">
        <span class="close-lightbox">&times;</span>
        <img src="${imageUrl}" class="lightbox-image">
      </div>
    `;

                    document.body.appendChild(lightbox);

                    // Prevent scrolling when lightbox is open
                    document.body.style.overflow = 'hidden';

                    // Close lightbox when clicking on background or close button
                    lightbox.addEventListener('click', function (e) {
                        if (e.target === lightbox || e.target.classList.contains('close-lightbox')) {
                            document.body.removeChild(lightbox);
                            document.body.style.overflow = 'auto';
                        }
                    });
                }
            });
    </script>
    <script>
        // điều mình mong muốn
        validator({
            form: "#form-1",
            errorElement: ".form__error",
            formGroupElement: ".form__group",
            rules: [
                validator.isRequire("#tel-input", "Bạn chưa nhập gì hết"),
                validator.isPhone("#tel-input", "vui lòng nhập đúng định dạng của số điện thoại"),
                //validator.isRequire("#password", "You haven't entered yet."),
                //validator.isMInPassword("#password", 6, "the password enter at least 6 characters"),
            ],
            onsubmit: function (data) {
                console.log(data);
            }
        })
        validator({
            form: "#form-2",
            errorElement: ".form__error",
            formGroupElement: ".form__group",
            rules: [
                validator.isRequire("#full-name-input", "Bạn chưa nhập gì hết"),
                validator.isRequire("#address-input", "Bạn chưa nhập gì hết"),
                validator.isRequire("#city-input", "Bạn chưa nhập gì hết"),
                validator.isRequire("#district-input", "Bạn chưa nhập gì hết"),


                //validator.isRequire("#password", "You haven't entered yet."),
                //validator.isMInPassword("#password", 6, "the password enter at least 6 characters"),
            ],
            onsubmit: function (data) {
                console.log(data);
            }
        })
    </script>
    <script>
        window.dispatchEvent(new Event("template-loaded"));
    </script> 
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        flatpickr("#myID1", {
            enableTime: true,
            noCalendar: true,
            dateFormat: "H:i",
            conjunction: " :: ",
            minTime: "06:00",
            maxTime: "20:00",
        });
        flatpickr("#myID", {
            minDate: "today",
            mode: "multiple",
            dateFormat: "Y-m-d",
            conjunction: " :: "
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.1.0/typed.umd.js"
        integrity="sha512-+2pW8xXU/rNr7VS+H62aqapfRpqFwnSQh9ap6THjsm41AxgA0MhFRtfrABS+Lx2KHJn82UOrnBKhjZOXpom2LQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        var typed = new Typed(".home__my-profession-typing", {
            strings: ["", "web Designer", "Web Developer", "Graphic Designer", "Youtube"],
            typeSpeed: 100,
            BackSpeed: 60,
            loop: true
        })
        //aside
        const nav = document.querySelector(".aside__nav"),
            navList = nav.querySelectorAll(".aside__item"),
            totalNavList = navList.length,
            allSection = document.querySelectorAll(".section"), totalSection = allSection.length;
        for (let i = 0; i < totalNavList; i++) {

            const a = navList[i].querySelector("a");
            a.addEventListener("click", function () {
                console.log(this);
                removeBackSection();
                for (let j = 0; j < totalNavList; j++) {
                    if (navList[j].querySelector("a").classList.contains("aside__nav-active")) {
                        addBackSection(j);
                        //allSection[j].classList.add("back-section");
                    }
                    navList[j].querySelector("a").classList.remove("aside__nav-active");
                }
                this.classList.add("aside__nav-active");
                showSection(this);
                if (window.innerWidth < 1200) {
                    asideSectionToggleBtn();
                }
            })
        }
        function addBackSection(num) {
            allSection[num].classList.add("back-section");
        }
        function removeBackSection() {
            for (let i = 0; i < totalSection; i++) {
                allSection[i].classList.remove("back-section");
            }
        }
        function showSection(element) {
            for (let i = 0; i < totalSection; i++) {
                allSection[i].classList.remove("home-active");
            }
            const target = element.getAttribute("href").split("#")[1];
            console.log(target);
            document.querySelector("#" + target).classList.add("home-active");

        }
        function updateNav(element) {
            console.log(element.getAttribute("href").split("#")[1]);
            for (let i = 0; i < totalSection; i++) {
                navList[i].querySelector("a").classList.remove("aside__nav-active");
                const target = element.getAttribute("href").split("#")[1];
                if (target === navList[i].querySelector("a").getAttribute("href").split("#")[1]) {
                    navList[i].querySelector("a").classList.add("aside__nav-active");
                }
            }


        }
        document.querySelector('.hire-me').addEventListener("click", function () {
            console.log(this);
            const sectionIndex = this.getAttribute("data-section-index");
            console.log(sectionIndex);
            showSection(this);
            updateNav(this);
            removeBackSection();
            addBackSection(sectionIndex);
        })
        document.querySelector('.book-helper').addEventListener("click", function () {
            console.log(this);
            const sectionIndex = this.getAttribute("data-section-index");
            console.log(sectionIndex);
            showSection(this);
            updateNav(this);
            removeBackSection();
            addBackSection(sectionIndex);
        })
        document.querySelector('.book-helper').addEventListener("click", function () {
            console.log(this);
            const sectionIndex = this.getAttribute("data-section-index");
            console.log(sectionIndex);
            showSection(this);
            updateNav(this);
            removeBackSection();
            addBackSection(sectionIndex);
        })
        document.querySelector('.book-helper__cancel').addEventListener("click", function () {
            console.log(this);
            const sectionIndex = this.getAttribute("data-section-index");
            console.log(sectionIndex);
            showSection(this);
            updateNav(this);
            removeBackSection();
            addBackSection(sectionIndex);
        })
        const navToggleBtn = document.querySelector('.aside__nav-toggle'), aside = document.querySelector(".aside");
        navToggleBtn.addEventListener("click", () => {
            asideSectionToggleBtn();
        })
        function asideSectionToggleBtn() {
            aside.classList.toggle("open");
            navToggleBtn.classList.toggle("open");
            for (let i = 0; i < totalSection; i++) {
                allSection[i].classList.toggle('open');
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper(".mySwiper--slideshow", {
            slidesPerView: 1,
            slidesPerGroup: 1,
            centeredSlides: true,
            grabCursor: true,
            loop: true,
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            pagination: {
                clickable: true,
            },
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        var swiper = new Swiper(".mySwiper", {
            slidesPerView: "3",
            spaceBetween: 150,
            centeredSlides: true,
            grabCursor: true,
            loop: true,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
        <script>
            // Sample data for unpaid bills
                const unpaidBills = [
                    {
                        id: 1,
                        customerName: "Alice Johnson",
                        orderDate: "2025-03-10",
                        orderTime: "09:00",
                        startTime: "10:00",
                        endTime: "12:00",
                        helperName: "Sarah Smith",
                        status: "Unpaid"
                    },
                    {
                        id: 2,
                        customerName: "Bob Wilson",
                        orderDate: "2025-03-10",
                        orderTime: "14:00",
                        startTime: "15:00",
                        endTime: "17:00",
                        helperName: "Mary Davis",
                        status: "Unpaid"
                    },
                    {
                        id: 3,
                        customerName: "Carol Brown",
                        orderDate: "2025-03-11",
                        orderTime: "10:00",
                        startTime: "11:00",
                        endTime: "13:00",
                        helperName: "Jane Wilson",
                        status: "Unpaid"
                    }
                ];

                // Function to format date
                function formatDate(dateString) {
                    const options = { year: 'numeric', month: 'long', day: 'numeric' };
                    return new Date(dateString).toLocaleDateString(undefined, options);
                }

                // Function to create bill items
                function createBillItems() {
                    const billsList = document.getElementById('billsList');
                    billsList.innerHTML = '';

                    unpaidBills.forEach(bill => {
                        const billItem = document.createElement('div');
                        billItem.className = 'bill-item-history-homecare';
                        billItem.innerHTML = `
            <div class="bill-info-history-homecare">
                <div class="customer-name-history-homecare">${bill.customerName}</div>
                <div class="bill-date-history-homecare">${formatDate(bill.orderDate)}</div>
            </div>
        `;

                        billItem.addEventListener('click', () => showBillDetails(bill));
                        billsList.appendChild(billItem);
                    });
                }

                // Function to show bill details in modal
                function showBillDetails(bill) {
                    const modal = document.getElementById('bill-details-modal');

                    // Update modal content with bill details
                    document.getElementById('customerName').textContent = bill.customerName;
                    document.getElementById('orderDate').textContent = formatDate(bill.orderDate);
                    document.getElementById('orderTime').textContent = bill.orderTime;
                    document.getElementById('startTime').textContent = bill.startTime;
                    document.getElementById('endTime').textContent = bill.endTime;
                    document.getElementById('helperName').textContent = bill.helperName;
                    document.getElementById('status').textContent = bill.status;

                    // Show modal
                    modal.classList.add('show-history-homecare');
                }

                // Close modal functionality
                document.querySelectorAll('.close-btn-history-homecare').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const modal = btn.closest('.modal-history-homecare');
                        modal.classList.remove('show-history-homecare');
                    });
                });

                // Close modal when clicking outside
                window.addEventListener('click', (event) => {
                    const modals = document.querySelectorAll('.modal-history-homecare');
                    modals.forEach(modal => {
                        if (event.target === modal) {
                            modal.classList.remove('show-history-homecare');
                        }
                    });
                });

                // Initialize the bills list
                document.addEventListener('DOMContentLoaded', () => {
                    createBillItems();
                });
        </script>
    <script>
        window.dispatchEvent(new Event("template-loaded"));
    </script>
</body>

</html>
